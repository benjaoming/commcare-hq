# Generated by Django 3.2.16 on 2023-01-17 04:57

from django.db import migrations
from corehq.privileges import FORM_LINK_WORKFLOW
from corehq.util.django_migrations import skip_on_fresh_install


@skip_on_fresh_install
def create_record(apps, schema_editor):
    from corehq.apps.accounting.models import TogglePrivilegeRecord
    TogglePrivilegeRecord.create_from_toggle(
        FORM_LINK_WORKFLOW,
        FORM_LINK_WORKFLOW
    )


@skip_on_fresh_install
def delete_record(apps, schema_editor):
    from corehq.apps.accounting.models import TogglePrivilegeRecord
    TogglePrivilegeRecord.get_by_privilege_slug(
        FORM_LINK_WORKFLOW,
    ).delete()


class Migration(migrations.Migration):

    dependencies = [
        ('accounting', '0065_toggleprivilegerecord'),
    ]


    operations = [
        migrations.RunPython(create_record, delete_record),
    ]
